##############################
# Redpanda / Kafka Configuration
##############################
# Adresse du broker Redpanda vue par les autres conteneurs Docker.
# Format : <hostname>:<port>
# Valeur par défaut recommandée en environnement Docker :
#   - redpanda:9092  → nom du service défini dans docker-compose.yml
REDPANDA_BROKER=redpanda:9092

# Adresse du broker Redpanda vue depuis la machine locale (hors Docker).
# Utilisée pour des tests en local (clients Python, outils CLI, etc.).
# Exemples :
#   - localhost:9092    → accès depuis l’hôte
#   - 127.0.0.1:9092    → équivalent localhost
REDPANDA_BROKER_LOCAL=localhost:9092

# Nom du topic Kafka/Redpanda utilisé pour les tickets clients.
# Ce topic est créé automatiquement à l’initialisation.
# Exemples :
#   - client_tickets      → valeur par défaut
#   - support_tickets
TOPIC_NAME=client_tickets

# Nombre de partitions du topic.
# Plus il y a de partitions, plus le parallélisme de consommation est élevé.
# Recommandations (POC vs prod) :
#   - 1–3    → POC / petite volumétrie
#   - 6–12   → pré-production
#   - 12+    → forte volumétrie
TOPIC_PARTITIONS=3

# Facteur de réplication du topic.
# Nombre de copies des données dans le cluster pour la haute disponibilité.
# En environnement de développement avec un seul nœud : 1
# En production (cluster multi-nœuds) : généralement 3
TOPIC_REPLICATION=1


##############################
# Producer Configuration
##############################
# Nombre de tickets générés par seconde par le producteur.
# Impacte directement le volume de données envoyées vers Redpanda.
# Exemples :
#   - 1       → faible charge, debug
#   - 10      → valeur par défaut pour tests
#   - 100+    → test de charge
PRODUCER_RATE=10

# Taille d’un batch logique d’envoi côté producteur.
# Dans cette implémentation, les messages sont envoyés un par un, mais ce
# paramètre peut servir à contrôler la taille de lots dans des évolutions futures.
# Valeurs typiques :
#   - 1       → envoi message par message
#   - 10, 50  → envoi par petits lots
PRODUCER_BATCH_SIZE=1

# Timeout (en secondes) pour les opérations critiques du producteur :
#   - connexion au broker
#   - attente d’acknowledgement lors de l’envoi d’un message
# Si le délai est dépassé, l’envoi est considéré comme en échec.
# Exemples :
#   - 10      → environnement rapide / local
#   - 30      → valeur par défaut robuste
#   - 60+     → environnements réseaux plus lents
PRODUCER_TIMEOUT=30


##############################
# Processor / Spark Configuration
##############################
# URL du master Spark (cluster mode).
# Non utilisé dans cette version Docker basée sur une image monolithique Spark,
# mais laissé pour compatibilité et extension vers un cluster distribué.
# Exemples :
#   - spark://spark-master:7077  → cluster standalone
#   - local[*]                   → mode local (tous les cœurs)
SPARK_MASTER=spark://spark-master:7077

# Quantité de mémoire allouée au driver Spark.
# Format : <nombre><unité>
# Unités possibles : m (Mo), g (Go)
# Exemples :
#   - 1g      → petit environnement
#   - 2g      → valeur par défaut recommandée
#   - 4g+     → dataset plus volumineux
SPARK_MEMORY=2g

# Nombre de cœurs alloués au(s) exécuteur(s) Spark.
# Plus il y a de cœurs, plus le traitement peut être parallélisé, dans la limite
# des ressources de la machine hôte.
# Exemples :
#   - 1       → machine très limitée
#   - 2       → valeur par défaut
#   - 4+      → machine de développement plus puissante
SPARK_EXECUTOR_CORES=2

# Format de sortie des données traitées.
# Contrôle le format des fichiers écrits dans OUTPUT_PATH.
# Valeurs possibles :
#   - parquet   → format columnar optimisé pour l’analytics (recommandé)
#   - json      → format texte lisible, pratique pour le debug et les démos
OUTPUT_FORMAT=parquet

# Chemin de sortie (dans le conteneur) pour l’export des résultats Spark.
# Ce répertoire est généralement monté en volume vers l’hôte via docker-compose.
# Exemples :
#   - /data/output      → volume Docker mappé vers ./data/output sur l’hôte
#   - /opt/app/output   → chemin alternatif dans le conteneur
OUTPUT_PATH=/data/output


##############################
# General / Runtime Configuration
##############################
# Niveau de verbosité des logs pour l’ensemble des composants.
# Valeurs possibles (du plus verbeux au moins verbeux) :
#   - DEBUG   → très détaillé, utile pour le développement
#   - INFO    → informations générales, valeur par défaut
#   - WARNING → uniquement avertissements
#   - ERROR   → uniquement erreurs
LOG_LEVEL=INFO

# Contexte d’exécution de l’application.
# Permet de différencier le comportement selon l’environnement.
# Valeurs possibles (dans ce projet) :
#   - docker   → exécution dans les conteneurs Docker (valeur par défaut)
#   - local    → exécution locale (hors Docker), à utiliser si le code est lancé
#                directement via Python sur la machine hôte
ENVIRONMENT=docker
